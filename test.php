<?php
require_once "flowPath.class.php";

// 0x01 = source
// 0x02 = destination
// 0x04 = wall

// $map = [
//     [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],
// ];

// $map = [
//     [1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
// ];

// $map = [
//     [1, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 2, 0, 0],
//     [0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0],
//     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
// ];

// $map = [
//     [0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
//     [0, 0, 4, 4, 4, 4, 4, 2, 0, 0, 0, 4, 0, 0, 4],
//     [0, 1, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [4, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [4, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [4, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [4, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [4, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 0, 0, 4],
//     [4, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 4, 0, 0, 4],
//     [4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 4, 0, 0, 4],
//     [4, 4, 0, 0, 0, 0, 0, 4, 4, 4, 0, 4, 0, 0, 4],
//     [4, 0, 0, 0, 0, 0, 0, 4, 4, 4, 0, 4, 0, 0, 4],
//     [4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],
//     [4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
// ];


// $map = [
//     [0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4],
//     [1, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 2, 4],
// ];

$map = [
    [0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 4, 4, 4, 0],
    [0, 0, 0, 0, 0, 4, 0],
    [0, 4, 4, 4, 0, 4, 0],
    [0, 4, 1, 4, 2, 4, 0],
    [0, 4, 0, 4, 4, 4, 0],
    [0, 4, 0, 0, 0, 0, 0],
    [0, 4, 0, 0, 0, 0, 0],
    [0, 4, 0, 0, 0, 0, 0],
];

$tot = 0;
$ticks = 0;
while ($tot < 1) {
	$start = microtime(true);
	$flowPath = new FlowPath($map);
	$end = microtime(true);
	$tot += ($end-$start);
	$ticks++;
	echo "Tempo de processamento: " . ($end - $start) . "ms\n";
}
echo "\n";
$flowPath->dumpFlow();
echo "\n";
$flowPath->dumpPath();
echo "\nTempo m√©dio de processamento: " . ($tot/$ticks) . "ms em $ticks loops\n\n\n\n";